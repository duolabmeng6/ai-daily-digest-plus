# AI Daily Digest ä½¿ç”¨æŒ‡å—

## å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬ä½¿ç”¨

```bash
# ç”Ÿæˆæœ€è¿‘48å°æ—¶çš„ä¸­æ–‡æ‘˜è¦
npx -y bun scripts/digest.ts

# æŒ‡å®šå‚æ•°
npx -y bun scripts/digest.ts --hours 24 --top-n 10 --lang zh
```

### 2. æµ‹è¯•æ¨¡å¼ï¼ˆæ¨èå…ˆæµ‹è¯•ï¼‰

```bash
# æµ‹è¯•æ¨¡å¼ï¼šä»…æŠ“å–1ä¸ªæºï¼Œå¿«é€ŸéªŒè¯é…ç½®
npx -y bun scripts/digest.ts --test --debug --hours 24 --top-n 3

# --test: ä»…æŠ“å–1ä¸ªæºè¿›è¡Œæµ‹è¯•
# --debug: æ˜¾ç¤ºè¯¦ç»†è°ƒè¯•æ—¥å¿—
```

### 3. è°ƒè¯•æ¨¡å¼

```bash
# æ˜¾ç¤ºè¯¦ç»†æ—¥å¿—
npx -y bun scripts/digest.ts --debug --hours 48

# åŒæ—¶ä½¿ç”¨æµ‹è¯•å’Œè°ƒè¯•
npx -y bun scripts/digest.ts --test --debug
```

## å‚æ•°è¯´æ˜

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | ç¤ºä¾‹ |
|------|------|--------|------|
| `--hours <n>` | æ—¶é—´èŒƒå›´ï¼ˆå°æ—¶ï¼‰ | 48 | `--hours 24` |
| `--top-n <n>` | ç²¾é€‰æ–‡ç« æ•°é‡ | 15 | `--top-n 10` |
| `--lang <lang>` | è¾“å‡ºè¯­è¨€ (zh/en) | zh | `--lang en` |
| `--output <path>` | è¾“å‡ºæ–‡ä»¶è·¯å¾„ | ./digest-YYYYMMDD.md | `--output ./my-digest.md` |
| `--test` | æµ‹è¯•æ¨¡å¼ï¼ˆä»…1ä¸ªæºï¼‰ | å…³é—­ | `--test` |
| `--debug` | è°ƒè¯•æ¨¡å¼ï¼ˆè¯¦ç»†æ—¥å¿—ï¼‰ | å…³é—­ | `--debug` |
| `--help` | æ˜¾ç¤ºå¸®åŠ© | - | `--help` |

## æ—¥å¿—è¯´æ˜

### æ—¥å¿—çº§åˆ«

- `â„¹` (è“è‰²): ä¿¡æ¯
- `âœ“` (ç»¿è‰²): æˆåŠŸ
- `âš ` (é»„è‰²): è­¦å‘Š
- `âœ—` (çº¢è‰²): é”™è¯¯
- `ğŸ”` (ç°è‰²): è°ƒè¯•ä¿¡æ¯ï¼ˆéœ€ --debugï¼‰

### è¿›åº¦æ˜¾ç¤º

```
è¿›åº¦: 10/92 (10.9%) | æˆåŠŸ: 10 | å¤±è´¥: 0
```

æ˜¾ç¤ºå½“å‰æŠ“å–è¿›åº¦ã€æˆåŠŸå’Œå¤±è´¥çš„æ•°é‡ã€‚

### API è°ƒç”¨ä¿¡æ¯

```
API 1 è°ƒç”¨æˆåŠŸ (è€—æ—¶ 8850ms, è¿”å› 784 å­—ç¬¦)
```

æ˜¾ç¤ºAPIè°ƒç”¨è€—æ—¶å’Œè¿”å›æ•°æ®å¤§å°ã€‚

## æŸ¥çœ‹ç»“æœ

### 1. æŸ¥çœ‹ç”Ÿæˆçš„æ–‡ä»¶

```bash
# æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯
ls -lh digest-*.md

# é¢„è§ˆå‰100è¡Œ
head -n 100 digest-20260214.md

# åˆ†é¡µæŸ¥çœ‹
less digest-20260214.md

# ç”¨ç¼–è¾‘å™¨æ‰“å¼€
code digest-20260214.md  # VS Code
open digest-20260214.md  # macOS é»˜è®¤åº”ç”¨
```

### 2. æŠ¥å‘Šç»“æ„

ç”Ÿæˆçš„Markdownæ–‡ä»¶åŒ…å«ï¼š

1. **ä»Šæ—¥çœ‹ç‚¹** - AI æ€»ç»“çš„æŠ€æœ¯è¶‹åŠ¿
2. **ä»Šæ—¥å¿…è¯» Top 3** - å‰3åç²¾é€‰æ–‡ç« é¢„è§ˆ
3. **æ•°æ®æ¦‚è§ˆ** - ç»Ÿè®¡ä¿¡æ¯å’Œå›¾è¡¨
   - Mermaid åˆ†ç±»é¥¼å›¾
   - é«˜é¢‘å…³é”®è¯æŸ±çŠ¶å›¾
   - ASCII çº¯æ–‡æœ¬å›¾ï¼ˆç»ˆç«¯å‹å¥½ï¼‰
   - è¯é¢˜æ ‡ç­¾äº‘
4. **åˆ†ç±»æ–‡ç« åˆ—è¡¨** - æŒ‰ç±»åˆ«åˆ†ç»„çš„è¯¦ç»†æ–‡ç« 

## æ•…éšœæ’é™¤

### "Config file not found"

**é—®é¢˜**ï¼šæ‰¾ä¸åˆ° config.json é…ç½®æ–‡ä»¶

**è§£å†³**ï¼š
1. ç¡®è®¤ config.json åœ¨é¡¹ç›®æ ¹ç›®å½•
2. æ£€æŸ¥æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
3. ä½¿ç”¨ `--debug` æŸ¥çœ‹æœç´¢è·¯å¾„

### "All APIs failed"

**é—®é¢˜**ï¼šæ‰€æœ‰APIéƒ½å¤±è´¥äº†

**è§£å†³**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. éªŒè¯ API å¯†é’¥æ˜¯å¦æœ‰æ•ˆ
3. æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼ˆä½¿ç”¨ `--debug`ï¼‰
4. å°è¯•åˆ‡æ¢ä¸åŒçš„ API

### "Failed to parse JSON"

**é—®é¢˜**ï¼šAPIè¿”å›çš„JSONæ ¼å¼é”™è¯¯

**åŸå› **ï¼šé€šå¸¸æ˜¯APIå“åº”æ ¼å¼ä¸ç¬¦åˆOpenAIæ ‡å‡†

**è§£å†³**ï¼š
1. æ£€æŸ¥APIæ˜¯å¦æ”¯æŒOpenAIå…¼å®¹æ ¼å¼
2. ç¡®è®¤ model å‚æ•°æ˜¯å¦æ­£ç¡®
3. å°è¯•å…¶ä»–APIç«¯ç‚¹

### RSSæºè¶…æ—¶

**ç°è±¡**ï¼šéƒ¨åˆ†RSSæºæ˜¾ç¤ºè¶…æ—¶æˆ–å¤±è´¥

**è¯´æ˜**ï¼šè¿™æ˜¯æ­£å¸¸çš„ï¼Œè„šæœ¬ä¼šè·³è¿‡å¤±è´¥çš„æºç»§ç»­å¤„ç†

**ä¼˜åŒ–**ï¼š
- é»˜è®¤è¶…æ—¶15ç§’
- 10è·¯å¹¶å‘æŠ“å–
- å¤±è´¥çš„æºä¸å½±å“å…¶ä»–æº

## æœ€ä½³å®è·µ

### 1. é¦–æ¬¡ä½¿ç”¨

```bash
# æ­¥éª¤1: æµ‹è¯•é…ç½®
npx -y bun scripts/digest.ts --test --debug --hours 24 --top-n 3

# æ­¥éª¤2: éªŒè¯æˆåŠŸåï¼Œè¿è¡Œå®Œæ•´ç‰ˆæœ¬
npx -y bun scripts/digest.ts --hours 48 --top-n 15
```

### 2. æ—¥å¸¸ä½¿ç”¨

```bash
# æ¯æ—¥æ‘˜è¦ï¼ˆ24å°æ—¶ï¼‰
npx -y bun scripts/digest.ts --hours 24 --top-n 10

# å‘¨æœ«æ‘˜è¦ï¼ˆä¸€å‘¨ï¼‰
npx -y bun scripts/digest.ts --hours 168 --top-n 20 --output ./weekly-digest.md
```

### 3. æ€§èƒ½ä¼˜åŒ–

- å°æ—¶æ•°è¶Šå¤§ï¼Œç­›é€‰å‡ºçš„æ–‡ç« è¶Šå¤šï¼ŒAIè¯„åˆ†æ—¶é—´è¶Šé•¿
- Top-N å»ºè®®10-20ç¯‡ï¼Œè´¨é‡ä¸æ•°é‡å¹³è¡¡
- å¦‚æœæ–‡ç« å¤ªå¤šï¼Œå¯ä»¥å‡å° `--hours` æˆ–å¢åŠ  `--top-n`

### 4. è°ƒè¯•æŠ€å·§

```bash
# ä»…æŸ¥çœ‹é…ç½®åŠ è½½
npx -y bun scripts/digest.ts --test --debug 2>&1 | head -n 20

# ä»…æŸ¥çœ‹RSSæŠ“å–
npx -y bun scripts/digest.ts --test --debug 2>&1 | grep "å¼€å§‹æŠ“å–"

# æŸ¥çœ‹APIåˆ‡æ¢
npx -y bun scripts/digest.ts --debug 2>&1 | grep "API"
```

## é…ç½®æ–‡ä»¶ç¤ºä¾‹

### config.json

```json
{
  "apis": [
    {
      "base_url": "https://api.example.com/v1",
      "api_key": "your-api-key-here",
      "model": "gpt-4"
    },
    {
      "base_url": "https://backup-api.com/v1",
      "api_key": "backup-api-key",
      "model": "gpt-3.5-turbo"
    }
  ],
  "timeout_seconds": 120,
  "extra_body": {},
  "extra_headers": {}
}
```

### æ”¯æŒçš„API

ä»»ä½•å…¼å®¹ OpenAI æ ¼å¼çš„APIï¼š
- OpenAIå®˜æ–¹API
- Azure OpenAI
- Grok (X.AI)
- Claude (é€šè¿‡å…¼å®¹å±‚)
- æœ¬åœ°éƒ¨ç½²çš„æ¨¡å‹ï¼ˆå¦‚Ollamaï¼‰
- å…¶ä»–ç¬¬ä¸‰æ–¹ä»£ç†

## è¾“å‡ºæ–‡ä»¶ç®¡ç†

```bash
# æŒ‰æ—¥æœŸå½’æ¡£
mkdir -p digests/2026/02
npx -y bun scripts/digest.ts --output digests/2026/02/digest-14.md

# æ‰¹é‡ç”Ÿæˆ
for day in {01..07}; do
  npx -y bun scripts/digest.ts --hours 24 --output ./digests/digest-$day.md
done
```

## é«˜çº§ç”¨æ³•

### 1. å®šæ—¶ä»»åŠ¡ï¼ˆcrontabï¼‰

```bash
# æ¯å¤©æ—©ä¸Š8ç‚¹ç”Ÿæˆæ‘˜è¦
0 8 * * * cd /path/to/ai-daily-digest && /usr/local/bin/bun scripts/digest.ts --hours 24
```

### 2. è„šæœ¬é›†æˆ

```bash
#!/bin/bash
# generate-digest.sh

DATE=$(date +%Y%m%d)
OUTPUT_DIR="./digests"

mkdir -p $OUTPUT_DIR
npx -y bun scripts/digest.ts \
  --hours 48 \
  --top-n 15 \
  --lang zh \
  --output $OUTPUT_DIR/digest-$DATE.md

echo "æ‘˜è¦å·²ç”Ÿæˆ: $OUTPUT_DIR/digest-$DATE.md"
```

### 3. å¤šè¯­è¨€è¾“å‡º

```bash
# ä¸­æ–‡ç‰ˆ
npx -y bun scripts/digest.ts --lang zh --output ./digest-zh.md

# è‹±æ–‡ç‰ˆ
npx -y bun scripts/digest.ts --lang en --output ./digest-en.md
```

## å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆæœ‰äº›RSSæºå¤±è´¥ï¼Ÿ**
A: ç½‘ç»œé—®é¢˜ã€è¯ä¹¦é”™è¯¯ã€æºæš‚æ—¶ä¸å¯ç”¨ç­‰ã€‚è„šæœ¬ä¼šè‡ªåŠ¨è·³è¿‡å¤±è´¥çš„æºã€‚

**Q: APIè°ƒç”¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: è„šæœ¬ä¼šè‡ªåŠ¨å°è¯•ä¸‹ä¸€ä¸ªAPIã€‚å¦‚æœå…¨éƒ¨å¤±è´¥ï¼Œæ£€æŸ¥config.jsoné…ç½®ã€‚

**Q: å¦‚ä½•å‡å°‘å¤„ç†æ—¶é—´ï¼Ÿ**
A: å‡å° `--hours` å‚æ•°ï¼Œæˆ–ä½¿ç”¨æ›´å¿«çš„APIã€‚

**Q: å¯ä»¥è‡ªå®šä¹‰RSSæºå—ï¼Ÿ**
A: å¯ä»¥ç¼–è¾‘ `scripts/digest.ts` ä¸­çš„ `RSS_FEEDS` æ•°ç»„ã€‚

**Q: æ—¥å¿—å¤ªè¯¦ç»†äº†ï¼Œèƒ½ç®€åŒ–å—ï¼Ÿ**
A: ä¸ä½¿ç”¨ `--debug` å‚æ•°å³å¯åªæ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯ã€‚
